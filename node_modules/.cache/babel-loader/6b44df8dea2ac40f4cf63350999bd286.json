{"ast":null,"code":"import _classCallCheck from \"/Users/gnani/Documents/image-sharing-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gnani/Documents/image-sharing-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gnani/Documents/image-sharing-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gnani/Documents/image-sharing-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gnani/Documents/image-sharing-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gnani/Documents/image-sharing-app/src/components/Profile.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport ImageGrid from './ImageGrid';\nimport Header from './Header';\nimport ProfileInfo from './ProfileInfo';\nimport '../sass/style.scss';\n\nvar Profile = /*#__PURE__*/function (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getProfile = function () {\n      var userid = _this.props.match.params.userid;\n      var user;\n\n      if (userid) {\n        user = _this.props.getUser(userid);\n      } else {\n        user = _this.props.currentUser;\n      }\n\n      return user;\n    };\n\n    _this.filterPosts = function (posts, user) {\n      var filteredPosts = [];\n      posts.map(function (post, i) {\n        if (post.userid === user.id) {\n          filteredPosts.push(post);\n        }\n\n        return true;\n      });\n      return filteredPosts;\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          sorting = _this$props.sorting,\n          updateSorting = _this$props.updateSorting,\n          posts = _this$props.posts,\n          postLiker = _this$props.postLiker,\n          currentUser = _this$props.currentUser,\n          followHandler = _this$props.followHandler;\n\n      if (Object.keys(this.props.currentUser).length === 0) {\n        console.log('not logged in!');\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 20\n          }\n        });\n      }\n\n      var user = this.getProfile();\n      var profilePosts = this.filterPosts(posts, user);\n      var finalPosts = this.props.sortPosts(sorting, profilePosts);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        posts: posts,\n        currentUser: currentUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(ProfileInfo, {\n        user: user,\n        sorting: sorting,\n        updateSorting: updateSorting,\n        followHandler: followHandler,\n        currentUser: currentUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(ImageGrid, {\n        posts: finalPosts,\n        postLiker: postLiker,\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;","map":{"version":3,"sources":["/Users/gnani/Documents/image-sharing-app/src/components/Profile.js"],"names":["React","Component","Redirect","ImageGrid","Header","ProfileInfo","Profile","getProfile","userid","props","match","params","user","getUser","currentUser","filterPosts","posts","filteredPosts","map","post","i","id","push","sorting","updateSorting","postLiker","followHandler","Object","keys","length","console","log","profilePosts","finalPosts","sortPosts"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAO,oBAAP;;IAEMC,O;;;;;;;;;;;;;;;;UAEFC,U,GAAa,YAAM;AACf,UAAIC,MAAM,GAAG,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAArC;AACA,UAAII,IAAJ;;AACA,UAAGJ,MAAH,EAAU;AACNI,QAAAA,IAAI,GAAG,MAAKH,KAAL,CAAWI,OAAX,CAAmBL,MAAnB,CAAP;AACH,OAFD,MAEK;AACDI,QAAAA,IAAI,GAAG,MAAKH,KAAL,CAAWK,WAAlB;AACH;;AACD,aAAOF,IAAP;AACH,K;;UAEDG,W,GAAc,UAACC,KAAD,EAAQJ,IAAR,EAAiB;AAC3B,UAAIK,aAAa,GAAG,EAApB;AACAD,MAAAA,KAAK,CAACE,GAAN,CAAU,UAACC,IAAD,EAAOC,CAAP,EAAY;AAClB,YAAGD,IAAI,CAACX,MAAL,KAAgBI,IAAI,CAACS,EAAxB,EAA2B;AACvBJ,UAAAA,aAAa,CAACK,IAAd,CAAmBH,IAAnB;AACH;;AACD,eAAO,IAAP;AACH,OALD;AAMA,aAAOF,aAAP;AACH,K;;;;;;;6BAEQ;AAAA,wBAC0E,KAAKR,KAD/E;AAAA,UACEc,OADF,eACEA,OADF;AAAA,UACWC,aADX,eACWA,aADX;AAAA,UAC0BR,KAD1B,eAC0BA,KAD1B;AAAA,UACiCS,SADjC,eACiCA,SADjC;AAAA,UAC4CX,WAD5C,eAC4CA,WAD5C;AAAA,UACyDY,aADzD,eACyDA,aADzD;;AAGL,UAAGC,MAAM,CAACC,IAAP,CAAY,KAAKnB,KAAL,CAAWK,WAAvB,EAAoCe,MAApC,KAA+C,CAAlD,EAAoD;AAChDC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,4BAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AAED,UAAInB,IAAI,GAAG,KAAKL,UAAL,EAAX;AACA,UAAIyB,YAAY,GAAG,KAAKjB,WAAL,CAAiBC,KAAjB,EAAwBJ,IAAxB,CAAnB;AACA,UAAIqB,UAAU,GAAG,KAAKxB,KAAL,CAAWyB,SAAX,CAAqBX,OAArB,EAA8BS,YAA9B,CAAjB;AAEA,0BACA;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,MAAD;AACA,QAAA,KAAK,EAAIhB,KADT;AAEA,QAAA,WAAW,EAAIF,WAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAKI,oBAAC,WAAD;AACA,QAAA,IAAI,EAAIF,IADR;AAEA,QAAA,OAAO,EAAIW,OAFX;AAGA,QAAA,aAAa,EAAIC,aAHjB;AAIA,QAAA,aAAa,EAAGE,aAJhB;AAKA,QAAA,WAAW,EAAIZ,WALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,eAYI,oBAAC,SAAD;AACA,QAAA,KAAK,EAAImB,UADT;AAEA,QAAA,SAAS,EAAIR,SAFb;AAGA,QAAA,IAAI,EAAIb,IAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZJ,CADA;AAoBH;;;;EAxDiBX,S;;AA2DtB,eAAeK,OAAf","sourcesContent":["import React,{ Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport ImageGrid from './ImageGrid';\nimport Header from './Header';\nimport ProfileInfo from './ProfileInfo';\nimport '../sass/style.scss';\n\nclass Profile extends Component {\n\n    getProfile = () => {\n        let userid = this.props.match.params.userid;\n        let user;\n        if(userid){\n            user = this.props.getUser(userid);\n        }else{\n            user = this.props.currentUser;\n        }\n        return user;\n    }\n\n    filterPosts = (posts, user) => {\n        let filteredPosts = [];\n        posts.map((post, i) =>{\n            if(post.userid === user.id){\n                filteredPosts.push(post);\n            }\n            return true;\n        });\n        return filteredPosts;\n    }\n\n    render() {\n        const {sorting, updateSorting, posts, postLiker, currentUser, followHandler} = this.props;\n\n        if(Object.keys(this.props.currentUser).length === 0){\n            console.log('not logged in!');\n            return <Redirect to='/login' />;\n        }\n\n        let user = this.getProfile();\n        let profilePosts = this.filterPosts(posts, user);\n        let finalPosts = this.props.sortPosts(sorting, profilePosts);\n\n        return (\n        <div className=\"main\">\n            <Header\n            posts = {posts}\n            currentUser = {currentUser}\n            />\n            <ProfileInfo\n            user = {user}\n            sorting = {sorting}\n            updateSorting = {updateSorting}\n            followHandler ={followHandler}\n            currentUser = {currentUser}\n            />\n            <ImageGrid\n            posts = {finalPosts}\n            postLiker = {postLiker}\n            user = {user}\n            />\n        </div>\n        );\n    }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}